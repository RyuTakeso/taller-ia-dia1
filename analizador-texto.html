<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analizador de Texto</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .contenedor {
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 30px;
            max-width: 900px;
            width: 100%;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            text-align: center;
            font-size: 28px;
        }

        .subtitulo {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .seccion-editor {
            margin-bottom: 30px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            color: #333;
            font-weight: 600;
            font-size: 16px;
        }

        textarea {
            width: 100%;
            height: 250px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            transition: all 0.3s ease;
            line-height: 1.6;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background-color: #fafbff;
        }

        textarea::placeholder {
            color: #bbb;
        }

        .estadisticas {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .tarjeta-estadistica {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: all 0.3s ease;
            border-left: 4px solid #667eea;
            position: relative;
            overflow: hidden;
        }

        .tarjeta-estadistica::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.5);
            transition: left 0.6s ease;
            pointer-events: none;
        }

        .tarjeta-estadistica.actualizada::before {
            left: 100%;
        }

        /* Colores diferenciados para cada m√©trica */
        .tarjeta-caracteres {
            border-left-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .tarjeta-caracteres-sin-espacios {
            border-left-color: #f093fb;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .tarjeta-palabras {
            border-left-color: #4facfe;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .tarjeta-oraciones {
            border-left-color: #43e97b;
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            color: white;
        }

        .tarjeta-lectura {
            border-left-color: #fa709a;
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
        }

        .etiqueta {
            font-size: 12px;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .numero {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 5px;
            display: block;
            animation: pulse 0.3s ease;
        }

        @keyframes pulse {
            0% {
                transform: scale(0.95);
                opacity: 0.8;
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .unidad {
            font-size: 11px;
            opacity: 0.8;
        }

        .botones {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-limpiar {
            background: #ff6b6b;
            color: white;
        }

        .btn-limpiar:hover {
            background: #ee5a52;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .btn-limpiar:active {
            transform: translateY(0);
        }

        .btn-copiar {
            background: #667eea;
            color: white;
        }

        .btn-copiar:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-copiar:active {
            transform: translateY(0);
        }

        .mensaje-validacion {
            text-align: center;
            color: #ff6b6b;
            font-size: 14px;
            margin-top: 15px;
            min-height: 20px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .notificacion {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #43e97b;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            animation: slideIn 0.3s ease;
            z-index: 1000;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @media (max-width: 600px) {
            .contenedor {
                padding: 20px;
            }

            h1 {
                font-size: 22px;
            }

            textarea {
                height: 200px;
            }

            .estadisticas {
                grid-template-columns: 1fr;
            }

            .numero {
                font-size: 24px;
            }

            button {
                flex: 1;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="contenedor">
        <h1>üìä Analizador de Texto</h1>
        <p class="subtitulo">Escribe o pega tu texto y obt√©n an√°lisis en tiempo real</p>

        <div class="seccion-editor">
            <label for="textarea-principal">Ingresa tu texto aqu√≠:</label>
            <textarea 
                id="textarea-principal" 
                placeholder="Escribe o pega tu texto aqu√≠ para analizar..."
            ></textarea>
        </div>

        <div class="estadisticas">
            <div class="tarjeta-estadistica tarjeta-caracteres">
                <div class="etiqueta">Caracteres (con espacios)</div>
                <span class="numero" id="caracteres">0</span>
                <span class="unidad">caracteres totales</span>
            </div>

            <div class="tarjeta-estadistica tarjeta-caracteres-sin-espacios">
                <div class="etiqueta">Caracteres (sin espacios)</div>
                <span class="numero" id="caracteres-sin-espacios">0</span>
                <span class="unidad">caracteres sin espacios</span>
            </div>

            <div class="tarjeta-estadistica tarjeta-palabras">
                <div class="etiqueta">Palabras</div>
                <span class="numero" id="palabras">0</span>
                <span class="unidad">palabras detectadas</span>
            </div>

            <div class="tarjeta-estadistica tarjeta-oraciones">
                <div class="etiqueta">Oraciones</div>
                <span class="numero" id="oraciones">0</span>
                <span class="unidad">oraciones encontradas</span>
            </div>

            <div class="tarjeta-estadistica tarjeta-lectura">
                <div class="etiqueta">Tiempo de Lectura</div>
                <span class="numero" id="lectura">0 min</span>
                <span class="unidad">a 200 palabras/minuto</span>
            </div>
        </div>

        <div class="botones">
            <button class="btn-limpiar" id="btn-limpiar">
                üóëÔ∏è Limpiar
            </button>
            <button class="btn-copiar" id="btn-copiar">
                üìã Copiar Estad√≠sticas
            </button>
        </div>

        <div class="mensaje-validacion" id="mensaje-validacion"></div>
    </div>

    <script>
        /**
         * Objeto que contiene referencias a todos los elementos del DOM
         * para facilitar el acceso y actualizaci√≥n de datos
         */
        const elementos = {
            textarea: document.getElementById('textarea-principal'),
            caracteres: document.getElementById('caracteres'),
            caracteresSinEspacios: document.getElementById('caracteres-sin-espacios'),
            palabras: document.getElementById('palabras'),
            oraciones: document.getElementById('oraciones'),
            lectura: document.getElementById('lectura'),
            btnLimpiar: document.getElementById('btn-limpiar'),
            btnCopiar: document.getElementById('btn-copiar'),
            mensajeValidacion: document.getElementById('mensaje-validacion')
        };

        /**
         * Cuenta el n√∫mero total de caracteres incluyendo espacios
         * @param {string} texto - El texto a analizar
         * @returns {number} N√∫mero de caracteres totales
         */
        function contarCaracteres(texto) {
            return texto.length;
        }

        /**
         * Cuenta el n√∫mero de caracteres excluyendo espacios en blanco
         * Elimina todos los espacios, tabulaciones y saltos de l√≠nea
         * @param {string} texto - El texto a analizar
         * @returns {number} N√∫mero de caracteres sin espacios
         */
        function contarCaracteresSinEspacios(texto) {
            // Elimina todos los espacios en blanco (\s incluye espacios, tabulaciones, saltos de l√≠nea)
            return texto.replace(/\s/g, '').length;
        }

        /**
         * Cuenta el n√∫mero de palabras en el texto
         * Considera que las palabras est√°n separadas por espacios
         * Maneja m√∫ltiples espacios consecutivos correctamente
         * @param {string} texto - El texto a analizar
         * @returns {number} N√∫mero de palabras
         */
        function contarPalabras(texto) {
            // Elimina espacios en blanco al inicio y final
            const textoTrimmed = texto.trim();
            
            // Si el texto est√° vac√≠o, retorna 0
            if (textoTrimmed === '') return 0;
            
            // Divide el texto por espacios en blanco y filtra elementos vac√≠os
            // \s+ detecta uno o m√°s espacios en blanco
            const palabrasArray = textoTrimmed.split(/\s+/);
            
            return palabrasArray.length;
        }

        /**
         * Cuenta el n√∫mero de oraciones en el texto
         * Una oraci√≥n termina con: . (punto), ? (interrogaci√≥n) o ! (exclamaci√≥n)
         * Evita contar puntos suspensivos como m√∫ltiples oraciones
         * @param {string} texto - El texto a analizar
         * @returns {number} N√∫mero de oraciones
         */
        function contarOraciones(texto) {
            // Trimea el texto para evitar espacios al inicio/final
            const textoTrimmed = texto.trim();
            
            // Si el texto est√° vac√≠o, retorna 0
            if (textoTrimmed === '') return 0;
            
            // Busca todos los caracteres que terminan una oraci√≥n: . ! ?
            // El car√°cter ^ al inicio de [] significa "no incluir"
            // Contamos solo los puntos seguidos de espacio o fin de texto
            const oracionesRegex = /[.!?]+(?:\s|$)/g;
            const coincidencias = textoTrimmed.match(oracionesRegex);
            
            // Si no hay coincidencias, retorna 0; si las hay, retorna la cantidad
            return coincidencias ? coincidencias.length : 0;
        }

        /**
         * Calcula el tiempo estimado de lectura basado en 200 palabras por minuto
         * Esta es una velocidad de lectura promedio para adultos
         * @param {number} numeroPalabras - El n√∫mero de palabras en el texto
         * @returns {string} Tiempo formateado (ej: "2 min", "< 1 min")
         */
        function calcularTiempoLectura(numeroPalabras) {
            // Velocidad de lectura est√°ndar: 200 palabras por minuto
            const velocidadLectura = 200;
            
            // Calcula el tiempo dividiendo palabras entre velocidad
            const tiempoMinutos = numeroPalabras / velocidadLectura;
            
            // Redondea hacia arriba usando Math.ceil
            const tiempoRedondeado = Math.ceil(tiempoMinutos);
            
            // Si el tiempo es menor a 1 minuto, muestra "< 1 min"
            if (tiempoRedondeado < 1) {
                return '< 1 min';
            }
            
            // Retorna el tiempo con la unidad
            return `${tiempoRedondeado} min`;
        }

        /**
         * Actualiza todas las estad√≠sticas en el DOM
         * Se ejecuta en tiempo real mientras el usuario escribe
         * Incluye animaci√≥n de actualizaci√≥n en cada tarjeta
         */
        function actualizarEstadisticas() {
            // Obtiene el texto actual del textarea
            const texto = elementos.textarea.value;
            
            // Calcula todas las m√©tricas
            const numCaracteres = contarCaracteres(texto);
            const numCaracteresSinEspacios = contarCaracteresSinEspacios(texto);
            const numPalabras = contarPalabras(texto);
            const numOraciones = contarOraciones(texto);
            const tiempoLectura = calcularTiempoLectura(numPalabras);
            
            // Actualiza los elementos del DOM
            elementos.caracteres.textContent = numCaracteres;
            elementos.caracteresSinEspacios.textContent = numCaracteresSinEspacios;
            elementos.palabras.textContent = numPalabras;
            elementos.oraciones.textContent = numOraciones;
            elementos.lectura.textContent = tiempoLectura;
            
            // A√±ade animaci√≥n de actualizaci√≥n a todas las tarjetas
            agregarAnimacionActualizacion();
            
            // Limpia el mensaje de validaci√≥n si hay texto
            if (texto.trim().length > 0) {
                elementos.mensajeValidacion.textContent = '';
            }
        }

        /**
         * A√±ade una animaci√≥n visual a las tarjetas de estad√≠sticas
         * La animaci√≥n muestra un destello cuando se actualiza
         */
        function agregarAnimacionActualizacion() {
            // Selecciona todas las tarjetas de estad√≠sticas
            const tarjetas = document.querySelectorAll('.tarjeta-estadistica');
            
            // Elimina la clase de animaci√≥n para poder a√±adirla de nuevo
            tarjetas.forEach(tarjeta => {
                tarjeta.classList.remove('actualizada');
                
                // Fuerza un reflow para que la animaci√≥n se reinicie
                void tarjeta.offsetWidth;
                
                // A√±ade la clase de animaci√≥n
                tarjeta.classList.add('actualizada');
            });
        }

        /**
         * Limpia todo el contenido y reinicia las estad√≠sticas
         * Se ejecuta cuando el usuario hace clic en el bot√≥n "Limpiar"
         */
        function limpiarTodo() {
            // Limpia el textarea
            elementos.textarea.value = '';
            
            // Reseta todas las estad√≠sticas a 0
            elementos.caracteres.textContent = '0';
            elementos.caracteresSinEspacios.textContent = '0';
            elementos.palabras.textContent = '0';
            elementos.oraciones.textContent = '0';
            elementos.lectura.textContent = '0 min';
            
            // Limpia el mensaje de validaci√≥n
            elementos.mensajeValidacion.textContent = '';
            
            // Enfoca nuevamente el textarea para mejor UX
            elementos.textarea.focus();
            
            // Muestra notificaci√≥n de limpieza
            mostrarNotificacion('An√°lisis limpiado ‚úì');
        }

        /**
         * Copia las estad√≠sticas actuales al portapapeles
         * Formatea las estad√≠sticas de manera legible
         * Se ejecuta cuando el usuario hace clic en "Copiar Estad√≠sticas"
         */
        function copiarEstadisticas() {
            // Valida que hay texto para copiar
            const texto = elementos.textarea.value.trim();
            if (texto.length === 0) {
                mostrarMensajeValidacion('No hay estad√≠sticas para copiar. Escribe algo primero.');
                return;
            }
            
            // Crea un texto formateado con todas las estad√≠sticas
            const estadisticasFormato = `
üìä AN√ÅLISIS DE TEXTO
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üìù Caracteres (con espacios): ${elementos.caracteres.textContent}
‚úÇÔ∏è  Caracteres (sin espacios): ${elementos.caracteresSinEspacios.textContent}
üìö Palabras: ${elementos.palabras.textContent}
üìå Oraciones: ${elementos.oraciones.textContent}
‚è±Ô∏è  Tiempo de lectura: ${elementos.lectura.textContent}
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            `.trim();
            
            // Copia el texto al portapapeles usando la API moderna
            navigator.clipboard.writeText(estadisticasFormato)
                .then(() => {
                    // Muestra notificaci√≥n de √©xito
                    mostrarNotificacion('Estad√≠sticas copiadas al portapapeles ‚úì');
                })
                .catch(() => {
                    // Manejo de error si falla el copiado
                    mostrarMensajeValidacion('Error al copiar. Intenta de nuevo.');
                });
        }

        /**
         * Muestra un mensaje de validaci√≥n temporal en la p√°gina
         * Se utiliza para mostrar errores o avisos
         * @param {string} mensaje - El mensaje a mostrar
         */
        function mostrarMensajeValidacion(mensaje) {
            elementos.mensajeValidacion.textContent = mensaje;
            
            // Elimina el mensaje autom√°ticamente despu√©s de 4 segundos
            setTimeout(() => {
                elementos.mensajeValidacion.textContent = '';
            }, 4000);
        }

        /**
         * Muestra una notificaci√≥n flotante en la esquina superior derecha
         * Se utiliza para feedback positivo (copiar, limpiar, etc.)
         * @param {string} mensaje - El mensaje a mostrar
         */
        function mostrarNotificacion(mensaje) {
            // Crea el elemento de notificaci√≥n
            const notificacion = document.createElement('div');
            notificacion.className = 'notificacion';
            notificacion.textContent = mensaje;
            
            // A√±ade la notificaci√≥n al body
            document.body.appendChild(notificacion);
            
            // Elimina la notificaci√≥n despu√©s de 3 segundos
            setTimeout(() => {
                notificacion.remove();
            }, 3000);
        }

        /**
         * Configura todos los event listeners
         * Se ejecuta cuando el DOM est√° completamente cargado
         */
        function inicializarEventListeners() {
            // Evento: se dispara mientras el usuario escribe en el textarea
            elementos.textarea.addEventListener('input', actualizarEstadisticas);
            
            // Evento: se dispara cuando hace clic en "Limpiar"
            elementos.btnLimpiar.addEventListener('click', limpiarTodo);
            
            // Evento: se dispara cuando hace clic en "Copiar Estad√≠sticas"
            elementos.btnCopiar.addEventListener('click', copiarEstadisticas);
        }

        /**
         * Inicializa la aplicaci√≥n cuando el DOM est√° listo
         * Ejecuta esta funci√≥n cuando el contenido se ha cargado completamente
         */
        document.addEventListener('DOMContentLoaded', inicializarEventListeners);
    </script>
</body>
</html>
